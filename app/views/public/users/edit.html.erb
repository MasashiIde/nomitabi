<div class= "container">
  <div class= "row py-5">
    <div class= "offset-1 col">
      <h4>ユーザープロフィール編集</h4>
    </div>
  </div>

  <%= form_with model: @user, url: user_path, method: :patch, local: true do |f| %>

    <div class= "row form-group">
      <%= f.label :name, "名前", class: "offset-1 col-md-3 col-form-label" %>
      <%= f.text_field :family_name, class: "form-control col-md-2" %>
      <%= f.text_field :first_name, class: "form-control col-md-2" %>
    </div>

    <div class= "row form-group">
      <%= f.label :profile_image, "プロフィール画像", class: "offset-1 col-md-3 col-form-label" %>
      <%= f.file_field :profile_image, placeholder: "プロフィール画像", accept: "image/*" %>
    </div>

    <div class= "row form-group">
      <%= f.label :nickname, "ニックネーム", class: "offset-1 col-md-3 col-form-label" %>
      <%= f.text_field :nickname, class: "form-control col-md-4" %>
    </div>

    <div class= "row form-group">
      <%= f.label :email, "メールアドレス", class: "offset-1 col-md-3 col-form-label" %>
      <%= f.email_field :email, class: "form-control col-md-5", autocomplete: "email", placeholder: "sample@example.com" %>
    </div>

    <div class= "row form-group">
      <%= f.label :introduction, "自己紹介文", class: "offset-1 col-md-3 col-form-label" %>
      <%= f.text_area :introduction, class: "form-control col-md-4" %>
    </div>
    
    <div class= "row form-group">
      <div class= "offset-1 col-md-3">
        公開・非公開設定
      </div>
      <div class= "col-md-1">
        <% if @user.released? %>
          <p class="text-success">公開中</p>
        <% else %>
          <p class="text-secondary">非公開中</p>
        <% end %>
      </div>
      <div class= "col-md-3">
        <%= f.radio_button :status, "released" %>
        <%= f.label :status, "公開する", {value: :released, style: "display: inline-block;"} %>
        <%= f.radio_button :status, "nonreleased" %>
        <%= f.label :status, "非公開にする", {value: :nonreleased, style: "display: inline-block;"} %>
      </div>
    </div>
    
    <div class= "row pb-5">
      <div class= "offset-1 col-md-3">
        会員ステータス
      </div>
      <div class= "col-md-2">
        <p class="text-success">有効</p>
      </div>
      <div class= "col-md-3">
        退会する場合は
        <%= link_to users_unsubscribe_path do %>
          こちら
        <% end %>
        から
      </div>
    </div>

    <div class= "row actions d-grid">
      <%= f.submit "編集内容を保存", class: "offset-5 col-md-2 btn btn-success btn-block" %>
    </div>
  <% end %>

</div>